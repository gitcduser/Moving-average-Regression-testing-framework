# Moving-average-Regression-testing-framework
该项目包含回测框架、交易策略及参数寻优三部分
回测框架也可以适用于其他策略
1.数据下载与整理
从akshare下载复权数据（前复权数据需要计算复权后数据）
计算涨跌停价格（精确四舍五入方法，不用round（银行家四舍五入法））

2.找出开平仓信号
短期均线上穿长期均线开仓
短期均线下穿长期均线平仓

3.产生实际持仓
当发出开仓信号后即以当天收盘价格进行买入
当发出平仓信号后即以当天收盘价格进行卖出
* 如果遇到涨跌停情况则当天不操作
* 注意：滑点的设置 股票为0.01    etf为0.001

4.计算资金曲线
设置资金账户参数：手续费 印花税 初始资金（尽量设置高一些，避免股价高不能买卖）
根据股票价格涨跌幅来计算股票净值（ 考虑分红派股情况）

5.寻找最优参数
穷举法进行参数寻优
将每一组参数代入策略中计算出对应收益，
得到最高收益所对应的参数
该参数为此移动平均策略的最优参数

交易策略为移动平均策略：该策略使用双均线作为参考项
参数为 ma_short与 ma_long

触发条件：
1.当参数产生金叉时开仓   （ma_short 上穿 ma_long时）
2.当参数产生死叉时平仓   （ma_short 下穿 ma_long时）
注意：在涨停跌停当天无法执行开平仓操作





